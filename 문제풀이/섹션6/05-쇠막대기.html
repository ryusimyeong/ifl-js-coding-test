<html>

<head>
  <meta charset="UTF-8">
  <title>출력결과</title>
</head>

<body>
  <script>
    function solution(s) {
      let answer = 0; // 쇠막대기의 총 개수
      let stack = []; // 레이저 사정권 쇠막대기

      for (let i = 0; i < s.length; i++) {
        switch (s[i]) {
          case '(':
            // 레이저
            if (s[i + 1] === ')') {
              answer += stack.length;
              // 쇠막대기 시작
            } else {
              answer++;
              stack.push(s[i]);
            }
            break;

          case ')':
            // 레이저
            if (s[i - 1] === '(') continue;
            // 쇠막대기 끝
            else stack.pop();
            break;
        }
      }

      return answer;
    }

    console.log(solution('()(((()())(())()))(())'));
    console.log(solution('(((()(()()))(())()))(()())'));
  </script>
</body>

</html>