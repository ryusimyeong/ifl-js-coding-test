<html>
  <head>
    <meta charset="UTF-8" />
    <title>출력결과</title>
  </head>
  <body>
    <script>
      function solution(s) {
        let answer = 0;
        const stack = [];

        s.split('').forEach((letter, index) => {
          switch (letter) {
            case '(':
              if (s[index + 1] === ')') {
                answer += stack.length;
              } else {
                stack.push(letter);
                answer++;
              }
              break;

            default:
              if (s[index - 1] === '(') return;

              stack.pop();
              break;
          }
        });

        return answer;
      }

      console.log(solution('()(((()())(())()))(())')); // 17
      console.log(solution('(((()(()()))(())()))(()())')); // 24
    </script>
  </body>
</html>
