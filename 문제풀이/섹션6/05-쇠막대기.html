<html>

<head>
  <meta charset="UTF-8">
  <title>출력결과</title>
</head>

<body>
  <script>
    function solution(s) {
      /**
      // 내 풀이
      let answer = 0; // 쇠막대기의 총 개수
      let stack = []; // 레이저 사정권 쇠막대기

      for (let i = 0; i < s.length; i++) {
        switch (s[i]) {
          case '(':
            // 레이저
            if (s[i + 1] === ')') {
              answer += stack.length;
              // 쇠막대기 시작
            } else {
              answer++;
              stack.push(s[i]);
            }
            break;
          case ')':
            // 레이저
            if (s[i - 1] === '(') continue;
            // 쇠막대기 끝
            else stack.pop();
            break;
        }
      }
      /*/
      let answer = 0;
      const stack = [];
      let prev = '' // 이전값 판별용
      for (const x of s) {
        switch (x) {
          case '(':
            stack.push(x);
            break;
          case ')':
            stack.pop(); // 닫는 괄호는 레이저인지 아닌지 판별해야 하므로 먼저 뺴준다.
            if (prev === '(') answer += stack.length;
            else answer++;
            break;
        }
        prev = x; // 이전 값 넣어주기
      }
      /**/

      return answer;
    }

    console.log(solution('()(((()())(())()))(())'));
    console.log(solution('(((()(()()))(())()))(()())'));
  </script>
</body>

</html>