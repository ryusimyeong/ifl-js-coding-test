<html>

<head>
  <meta charset="UTF-8">
  <title>출력결과</title>
</head>

<body>
  <script>
    function solution(board, moves) {
      let answer = 0; // 인형의 개수
      const stack = []; // 바구니

      while (moves.length > 0) {
        const move = moves.shift() - 1;
        for (let i = 0; i < board.length; i++) {
          const picked = board[i][move];
          board[i][move] = 0; // 비우기
          if (picked <= 0) continue;
          // stack의 맨 위 숫자와 지금 탐색한 숫자가 같으면
          if (picked === stack[stack.length - 1]) {
            stack.pop();
            answer += 2;
          } else {
            stack.push(picked); // 바구니에 담기
          }
          break;
        }
      }

      return answer;
    }

    let a = [
      [0, 0, 0, 0, 0],
      [0, 0, 1, 0, 3],
      [0, 2, 5, 0, 1],
      [4, 2, 4, 4, 2],
      [3, 5, 1, 3, 1]
    ];

    let b = [1, 5, 3, 5, 1, 2, 1, 4];
    console.log(solution(a, b));
  </script>
</body>

</html>