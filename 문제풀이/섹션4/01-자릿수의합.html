<html>
  <head>
    <meta charset="UTF-8" />
    <title>출력결과</title>
  </head>
  <body>
    <script>
      function solution(n, arr) {
        let answer;
        let max = Number.MIN_SAFE_INTEGER;

        /**
        // 자릿수 합 구하기
        const sumHashList = arr
          .map((number) =>
            String(number)
              .split('')
              .reduce((acc, digit) => acc + Number(digit), 0)
          )
          .map((sum, index) => ({
            sum,
            number: arr[index],
          }));

        // 자릿수 합 최대값인 숫자 구하기
        const max = Math.max(...sumHashList.map((sumHash) => sumHash.sum));

        // 자릿수 합 최대값이 숫자 중 큰 수 구하기
        const candidateList = sumHashList.filter(
          (sumHash) => sumHash.sum === max
        );

        answer = Math.max(
          ...candidateList.map((candidate) => candidate.number)
        );
        /*/
        for (const number of arr) {
          const sum = String(number)
            .split('')
            .reduce((acc, digit) => acc + Number(digit), 0);

          if (sum > max) {
            max = sum;
            answer = number;
          } else if (sum === max && number > answer) {
            answer = number;
          }
        }
        /**/
        return answer;
      }

      console.log(solution(7, [128, 460, 603, 40, 521, 137, 123]));
    </script>
  </body>
</html>
