<html>

<head>
  <meta charset="UTF-8">
  <title>출력결과</title>
</head>

<body>
  <script>
    function solution(test) {
      let answer = 0;
      let m = test.length; // 시험 횟수
      let n = test[0].length; // 학생 수
      // 학생이 맺어질 수 있는 모든 경우의 수
      for (let i = 1; i <= n; i++) { // i번 학생
        for (let j = 1; j <= n; j++) { // j번 학생
          // 같은 번호의 학생이 짝이 될 수 없으므로 continue
          if (i === j) continue;

          let flag = true; // 등수 확인하는 boolean
          // 시험 탐색
          for (let k = 0; k < m; k++) {
            let mentor = 0; // i번 학생의 등수
            let mentee = 0; // j번 학생의 등수
            for (let s = 0; s < n; s++) {
              if (test[k][s] === i) mentor = s;
              if (test[k][s] === j) mentee = s;
            }
            // 멘토가 멘티보다 등수가 같거나 작으면 멘토멘티가 될 수 없음
            if (mentor >= mentee) flag = false;
          }
          if (flag) answer++;
          flag = true;
        }
      }
      return answer;
    }

    let arr = [[3, 4, 1, 2], [4, 3, 2, 1], [3, 1, 4, 2]];
    console.log(solution(arr));
  </script>
</body>

</html>