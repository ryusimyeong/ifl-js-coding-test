<html>

<head>
  <meta charset="UTF-8">
  <title>출력결과</title>
</head>

<body>
  <script>
    function solution(m, arr) {
      let answer = 0;
      /**
      // 내 풀이
      for (let i = 0; i < arr.length; i++) {
        if (arr[i] === m) {
          answer++;
          continue;
        }
        let sum = arr[i];

        for (let j = i + 1; j < arr.length; j++) {
          sum += arr[j];
          if (sum === m) {
            answer++
          } else if (sum > m) {
            break;
          }
        }
      }

      // 선생님 풀이
      let li = 0;
      let ri = 0;
      let sum = 0;
      for (let ri = 0; ri < arr.length; ri++) {
        sum += arr[ri];
        if (sum === m) {
          answer++;
        }
        while (sum >= m) {
          sum -= arr[li];
          li++;
          if (sum === m) {
            answer++;
          }
        }
      }
      /*/
      // two pointers. O(n)
      // 인덱스를 가리키는 걊 두 개 (left, right)를 정한 다음
      // left부터 right까지의 합 sum이 M이 될 때마다 answer가 증가한다.
      let sum = 0;
      let li = 0;
      let ri = 0;

      while (true) {

        if (sum < m) {
          sum += arr[ri];
          ri++;
        } else {
          sum -= arr[li];
          li++;
        }
        if (sum === m) {
          answer++;
        }
        // ri가 arr.length 이상이고, sum이 m보다 작아지면 반복문 종료
        if (ri >= arr.length && sum < m) break;
      }
      /**/

      return answer;
    }

    console.log(solution(6, [1, 2, 1, 3, 1, 1, 1, 2]));
    console.log(solution(6, [1, 1, 1, 2, 4]));
    console.log(solution(2, [1, 1, 1]));
  </script>
</body>

</html>