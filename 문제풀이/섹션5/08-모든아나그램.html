<html>
  <head>
    <meta charset="UTF-8" />
    <title>출력결과</title>
  </head>
  <body>
    <script>
      function getArray(string) {
        return string.split('');
      }

      function getTuple(string) {
        return [...new Set(string.split(''))];
      }

      function getHash(string) {
        const array = getArray(string);
        const tuple = getTuple(string);
        const hash = {};
        tuple.forEach((char) => (hash[char] = 0));
        array.forEach((char) => hash[char]++);

        return hash;
      }

      function solution(s, t) {
        let answer = 0;
        const candidateList = [];
        const tLen = t.length;
        const tHash = getHash(t);

        for (let i = 0; i < s.length - tLen + 1; i++) {
          let str = '';
          for (let j = i; j < i + tLen; j++) {
            str += s[j];
          }
          candidateList.push(str);
        }

        candidateList.forEach((candidate) => {
          const candidateHash = getHash(candidate);
          const tTuple = getTuple(t);
          let flag = true;

          tTuple.forEach((char) => {
            if (tHash[char] !== candidateHash[char]) {
              flag = false;
              return;
            }
          });

          if (flag) {
            answer++;
          }
        });

        return answer;
      }

      console.log(solution('bacaAacba', 'abc')); // 3
      console.log(solution('bacaAacba', 'aac')); // 1
    </script>
  </body>
</html>
